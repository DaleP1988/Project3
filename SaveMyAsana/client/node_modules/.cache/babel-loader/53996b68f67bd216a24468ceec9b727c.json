{"ast":null,"code":"import _classCallCheck from \"/Users/garnetdianthus/Repoman/Project3/SaveMyAsana/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/garnetdianthus/Repoman/Project3/SaveMyAsana/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/garnetdianthus/Repoman/Project3/SaveMyAsana/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/garnetdianthus/Repoman/Project3/SaveMyAsana/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/garnetdianthus/Repoman/Project3/SaveMyAsana/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/garnetdianthus/Repoman/Project3/SaveMyAsana/client/src/pages/Booking.js\";\nimport React, { Component } from \"react\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport InstructorCard from \"../components/InstructorCard\";\nimport { Card, Input, Icon, Button, Modal } from \"react-materialize\";\nimport background from \"../images/floor2.jpg\";\nimport InstructorSchedule from \"../components/InstructorSchedule\";\nimport API from \"../utils/API\";\nimport $ from \"jquery\";\n\nvar Booking =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Booking, _Component);\n\n  function Booking() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Booking);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Booking)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      Instructor: \"Johnny Salke\",\n      Location: \"\",\n      City: \"\",\n      InstructorSchedules: [],\n      InstructorBio: [],\n      Day: \"\",\n      Time: \"\" // Modal: []\n\n    };\n    _this.selectedDate = React.createRef();\n\n    _this.getInstructorName = function (event) {\n      // save the data from the other page\n      _this.setState({\n        Instructor: event.target.value\n      });\n    };\n\n    _this.getInstructorLocation = function (event) {\n      // save the data from the other page\n      _this.setState({\n        Location: event.target.value\n      });\n    };\n\n    _this.handleSearchSubmit = function (event) {\n      event.preventDefault();\n      API.getClasses(_this.state.Instructor, _this.state.Location).then(function (res) {\n        console.log(\"got data \", res.data);\n\n        _this.setState({\n          InstructorSchedules: res.data\n        });\n      });\n    };\n\n    _this.fillAbbrevProfile = function () {\n      API.getIP(_this.state.name, _this.state.loc).then(function (res) {\n        _this.setState({\n          clients: res.data\n        });\n      });\n    };\n\n    _this.renderInstructorContactInfo = function () {\n      return _this.state.InstructorSchedules.map(function (schedule) {\n        return React.createElement(InstructorCard, {\n          style: {\n            marginRight: \"30px\"\n          },\n          key: schedule.instructor,\n          name: schedule.instructor,\n          studio: schedule.studioName,\n          location: schedule.location,\n          address: schedule.address,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        });\n      });\n    };\n\n    _this.handleDateChange = function (event) {\n      console.log(\"changing date\");\n\n      _this.setState({\n        Time: event.target.value\n      });\n    };\n\n    _this.handleTimeInput = function (event) {\n      _this.setState({\n        Day: event.target.value\n      });\n    };\n\n    _this.renderInstructorSchedule = function () {\n      return _this.state.InstructorSchedules.map(function (schedule) {\n        return React.createElement(InstructorSchedule, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"-id=\", schedule._id, \"key=\", schedule._id, \"className = \", schedule.nameClass, \"level = \", schedule.classLevel, \"description = \", schedule.description, \"location = \", schedule.location, \"date = \", schedule.date, \"time = \", schedule.time, \"studio = \", schedule.studio, \"spots = \", schedule.spots, \"cancellation = \", schedule.cancellation, \"registration =\", schedule.registration, \"address = \", schedule.address);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Booking, [{\n    key: \"componentDidMount\",\n    //when component mounts, get instructor from session storage, load to this.state.instructorSchedule\n    value: function componentDidMount() {} // this.getInstructorName();\n    // this.findSchedules();\n    ////////////////////\n    ////GET NAME///////\n    ////GET LOC////////\n    ///////////////////\n\n  }, {\n    key: \"handleTimeDate\",\n    value: function handleTimeDate(event) {\n      // event.preventDefault();\n      console.log(\"here \", this.state.Time, this.state.Day);\n    } //////////////////\n    ///MODAL BUILD///\n    /////////////////\n    //not sure if above will return the right result\n    // method for rendering the modal div\n    // may not need this method. can just do the\n    // renderModal = () => {\n    //   return this.state.Modal.map(schedule => (\n    //     <BookingResult>\n    //       -id={schedule._id}\n    //       key={schedule._id}\n    //       name = {Modal.name}\n    //       location = {Modal.location}\n    //       studio = {Modal.studio}\n    //       email = {Modal.email}\n    //       phone = {Modal.phone}\n    //     </BookingResult>\n    //   ));\n    // };\n    ///////////////////\n    ///FILL SCHEDULE//\n    //////////////////\n    //function to search with the name. for the axios call to MBO\n    // make sure it gets the right instructor\n    // findSchedule = () => {\n    //   API.getClasses(this.state.Instructor)\n    //     .then(res => {\n    //       var responseArray =\n    //         typeof res.data.response.docs !== \"undefined\"\n    //           ? res.data.response.docs\n    //           : [];\n    //       if (responseArray) {\n    //         classList = responseArray.Classes.class;\n    //       }\n    //       this.setState({ InstructorSchedules: classList });\n    //     })\n    //     .catch(err => console.log(err));\n    // };\n    //method for rendering one instructor schedule div\n\n  }, {\n    key: \"render\",\n    value: function render(props) {\n      console.log(\"here\", this.refs);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"parallax-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          marginTop: \"20px\",\n          height: \"250px\"\n        },\n        id: \"booking-section\",\n        className: \"white responsive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"center\",\n        id: \"search-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"center\",\n        id: \"search-title\",\n        style: {\n          \"margin-bottom\": \"0px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"event\"), \"CLASS SCHEDULER\"))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"center\",\n        id: \"search-heading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-field col m6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"Name\",\n        id: \"name\",\n        type: \"text\",\n        class: \"name\",\n        style: {\n          width: \"80%\"\n        },\n        onChange: this.getInstructorName,\n        value: this.state.Instructor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"input-field col m6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"City, State\",\n        id: \"location\",\n        type: \"text\",\n        class: \"location\",\n        style: {\n          width: \"80%\"\n        },\n        onChange: this.getInstructorLocation,\n        value: this.Location,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      })), React.createElement(\"a\", {\n        className: \"waves-effect waves-light btn-small left\",\n        style: {\n          \"margin-left\": \"5%\"\n        },\n        onClick: this.handleSearchSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"Submit\"))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(Card, {\n        title: \"\",\n        style: {\n          height: \"330px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-field col m12 center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, \" \", \"Your Instructor Awaits!\", this.renderInstructorContactInfo())))), React.createElement(Col, {\n        size: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, React.createElement(Card, {\n        title: \"Request an Introductory Session\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-field col m12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"Date\",\n        id: \"datePick\",\n        type: \"text\",\n        class: \"datepicker\",\n        ref: this.selectedDate,\n        onSet: this.handleDateChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        for: \"datePick\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"Select a date\"))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-field col m12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"Time\",\n        id: \"timePick\",\n        type: \"text\",\n        class: \"timepicker\",\n        onChange: this.handleTimeInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        for: \"timePick\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Select a time\"))), React.createElement(Modal, {\n        header: \"Thanks for booking!\",\n        className: \" waves-effect waves-light\",\n        trigger: React.createElement(Button, {\n          className: \"waves-effect waves-light btn-small\",\n          type: \"submit\",\n          onClick: this.handleTimeDate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278\n          },\n          __self: this\n        }, \"Submit\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \"Your request for a session\", this.state.Time, \" has been submitted.\", this.state.Instructor, \" will contact you directly.\"))))))), React.createElement(\"div\", {\n        className: \"parallax\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"background-img\",\n        src: background,\n        alt: \"Unsplashed background img 1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"section-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(Container, {\n        style: {\n          height: \"400px\",\n          marginTop: \"50%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, \"RESULTS\"), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, React.createElement(Col, {\n        size: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {},\n        className: \"\",\n        id: \"booking-results\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, this.renderInstructorSchedule()))))));\n    }\n  }]);\n\n  return Booking;\n}(Component);\n\nexport default Booking;","map":{"version":3,"sources":["/Users/garnetdianthus/Repoman/Project3/SaveMyAsana/client/src/pages/Booking.js"],"names":["React","Component","Col","Row","Container","InstructorCard","Card","Input","Icon","Button","Modal","background","InstructorSchedule","API","$","Booking","state","Instructor","Location","City","InstructorSchedules","InstructorBio","Day","Time","selectedDate","createRef","getInstructorName","event","setState","target","value","getInstructorLocation","handleSearchSubmit","preventDefault","getClasses","then","res","console","log","data","fillAbbrevProfile","getIP","name","loc","clients","renderInstructorContactInfo","map","schedule","marginRight","instructor","studioName","location","address","handleDateChange","handleTimeInput","renderInstructorSchedule","_id","nameClass","classLevel","description","date","time","studio","spots","cancellation","registration","props","refs","marginTop","height","width","handleTimeDate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport InstructorCard from \"../components/InstructorCard\";\nimport { Card, Input, Icon, Button, Modal } from \"react-materialize\";\nimport background from \"../images/floor2.jpg\";\nimport InstructorSchedule from \"../components/InstructorSchedule\";\nimport API from \"../utils/API\";\nimport $ from \"jquery\";\n\nclass Booking extends Component {\n  state = {\n    Instructor: \"Johnny Salke\",\n    Location: \"\",\n    City: \"\",\n    InstructorSchedules: [],\n    InstructorBio: [],\n    Day: \"\",\n    Time: \"\"\n    // Modal: []\n  };\n\n  selectedDate = React.createRef();\n\n  //when component mounts, get instructor from session storage, load to this.state.instructorSchedule\n\n  componentDidMount() {\n    // this.getInstructorName();\n    // this.findSchedules();\n  }\n\n  ////////////////////\n  ////GET NAME///////\n  ////GET LOC////////\n  ///////////////////\n\n  getInstructorName = event => {\n    // save the data from the other page\n    this.setState({ Instructor: event.target.value });\n  };\n\n  getInstructorLocation = event => {\n    // save the data from the other page\n    this.setState({ Location: event.target.value });\n  };\n\n  ////////////////////\n  ////AJAX CALL//////\n  ////MBO////////////\n  ///////////////////\n\n  handleSearchSubmit = event => {\n    event.preventDefault();\n    API.getClasses(this.state.Instructor, this.state.Location).then(res => {\n      console.log(\"got data \", res.data);\n      this.setState({ InstructorSchedules: res.data });\n    });\n  };\n\n  /////////////////////\n  ///abbrv profile/////\n  /////////////////////\n\n  //function to get the instructor name from session storage\n\n  // funciton to get the profile data into card\n\n  fillAbbrevProfile = () => {\n    API.getIP(this.state.name, this.state.loc).then(res => {\n      this.setState({ clients: res.data });\n    });\n  };\n\n  // method to create a single card div\n  // instructor card\n\n  renderInstructorContactInfo = () => {\n    return this.state.InstructorSchedules.map(schedule => (\n      <InstructorCard\n        style={{ marginRight: \"30px\" }}\n        key={schedule.instructor}\n        name={schedule.instructor}\n        studio={schedule.studioName}\n        location={schedule.location}\n        address={schedule.address}\n      />\n    ));\n  };\n\n  //////////////////\n  //BOOKING INPUT///\n  //////////////////\n\n  //method for getting the date input\n\n  handleDateChange = event => {\n    console.log(\"changing date\");\n    this.setState({ Time: event.target.value });\n  };\n\n  //method for getting the time input\n\n  handleTimeInput = event => {\n    this.setState({ Day: event.target.value });\n  };\n\n  handleTimeDate(event) {\n    // event.preventDefault();\n    console.log(\"here \", this.state.Time, this.state.Day);\n  }\n\n  //////////////////\n  ///MODAL BUILD///\n  /////////////////\n\n  //not sure if above will return the right result\n\n  // method for rendering the modal div\n  // may not need this method. can just do the\n\n  // renderModal = () => {\n  //   return this.state.Modal.map(schedule => (\n  //     <BookingResult>\n  //       -id={schedule._id}\n  //       key={schedule._id}\n  //       name = {Modal.name}\n  //       location = {Modal.location}\n  //       studio = {Modal.studio}\n  //       email = {Modal.email}\n  //       phone = {Modal.phone}\n  //     </BookingResult>\n  //   ));\n  // };\n\n  ///////////////////\n  ///FILL SCHEDULE//\n  //////////////////\n\n  //function to search with the name. for the axios call to MBO\n  // make sure it gets the right instructor\n\n  // findSchedule = () => {\n  //   API.getClasses(this.state.Instructor)\n  //     .then(res => {\n  //       var responseArray =\n  //         typeof res.data.response.docs !== \"undefined\"\n  //           ? res.data.response.docs\n  //           : [];\n  //       if (responseArray) {\n  //         classList = responseArray.Classes.class;\n  //       }\n  //       this.setState({ InstructorSchedules: classList });\n  //     })\n  //     .catch(err => console.log(err));\n  // };\n\n  //method for rendering one instructor schedule div\n\n  renderInstructorSchedule = () => {\n    return this.state.InstructorSchedules.map(schedule => (\n      <InstructorSchedule>\n        -id={schedule._id}\n        key={schedule._id}\n        className = {schedule.nameClass}\n        level = {schedule.classLevel}\n        description = {schedule.description}\n        location = {schedule.location}\n        date = {schedule.date}\n        time = {schedule.time}\n        studio = {schedule.studio}\n        spots = {schedule.spots}\n        cancellation = {schedule.cancellation}\n        registration ={schedule.registration}\n        address = {schedule.address}\n      </InstructorSchedule>\n    ));\n  };\n\n  render(props) {\n    console.log(\"here\", this.refs);\n    return (\n      <div>\n        <div className=\"parallax-container\">\n          <Container>\n            <div\n              style={{ marginTop: \"20px\", height: \"250px\" }}\n              id=\"booking-section\"\n              className=\"white responsive\"\n            >\n              <Row>\n                <div className=\"center\" id=\"search-heading\">\n                  <h2\n                    className=\"center\"\n                    id=\"search-title\"\n                    style={{ \"margin-bottom\": \"0px\" }}\n                  >\n                    <Icon className=\"medium\">event</Icon>\n                    CLASS SCHEDULER\n                  </h2>\n                </div>\n              </Row>\n              <Row>\n                <div className=\"center\" id=\"search-heading\">\n                  <div className=\"input-field col m6\">\n                    <input\n                      placeholder=\"Name\"\n                      id=\"name\"\n                      type=\"text\"\n                      class=\"name\"\n                      style={{ width: \"80%\" }}\n                      onChange={this.getInstructorName}\n                      value={this.state.Instructor}\n                    />\n                  </div>\n                  <div className=\"input-field col m6\">\n                    <input\n                      placeholder=\"City, State\"\n                      id=\"location\"\n                      type=\"text\"\n                      class=\"location\"\n                      style={{ width: \"80%\" }}\n                      onChange={this.getInstructorLocation}\n                      value={this.Location}\n                    />\n                  </div>\n                  <a\n                    className=\"waves-effect waves-light btn-small left\"\n                    style={{ \"margin-left\": \"5%\" }}\n                    onClick={this.handleSearchSubmit}\n                  >\n                    Submit\n                  </a>\n                </div>\n              </Row>\n\n              <Row>\n                <Col size=\"6\">\n                  <Card title=\"\" style={{ height: \"330px\" }}>\n                    <div className=\"input-field col m12 center\">\n                      <h3>\n                        {\" \"}\n                        Your Instructor Awaits!\n                        {this.renderInstructorContactInfo()}\n                      </h3>\n                    </div>\n                  </Card>\n                </Col>\n                <Col size=\"6\">\n                  <Card title=\"Request an Introductory Session\">\n                    <Row>\n                      <div className=\"input-field col m12\">\n                        <input\n                          placeholder=\"Date\"\n                          id=\"datePick\"\n                          type=\"text\"\n                          class=\"datepicker\"\n                          ref={this.selectedDate}\n                          onSet={this.handleDateChange}\n                        />\n                        <label for=\"datePick\">Select a date</label>\n                      </div>\n                    </Row>\n                    <Row>\n                      <div className=\"input-field col m12\">\n                        <input\n                          placeholder=\"Time\"\n                          id=\"timePick\"\n                          type=\"text\"\n                          class=\"timepicker\"\n                          onChange={this.handleTimeInput}\n                        />\n                        <label for=\"timePick\">Select a time</label>\n                      </div>\n                    </Row>\n                    <Modal\n                      header=\"Thanks for booking!\"\n                      className=\" waves-effect waves-light\"\n                      trigger={\n                        <Button\n                          className=\"waves-effect waves-light btn-small\"\n                          type=\"submit\"\n                          onClick={this.handleTimeDate}\n                        >\n                          Submit\n                        </Button>\n                      }\n                    >\n                      <p>\n                        Your request for a session\n                        {/* {this.selectedDate.current} at */}\n                        {this.state.Time} has been submitted.\n                        {this.state.Instructor} will contact you directly.\n                      </p>\n                    </Modal>\n                  </Card>\n                </Col>\n              </Row>\n            </div>\n          </Container>\n          <div className=\"parallax\">\n            <img\n              className=\"background-img\"\n              src={background}\n              alt=\"Unsplashed background img 1\"\n            />\n          </div>\n        </div>\n        <div className=\"section-white\">\n          <Container style={{ height: \"400px\", marginTop: \"50%\" }}>\n            <h2 className=\"center\">RESULTS</h2>\n            <Row>\n              <Col size=\"12\">\n                <div style={{}} className=\"\" id=\"booking-results\">\n                  {this.renderInstructorSchedule()}\n                </div>\n              </Col>\n            </Row>\n          </Container>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Booking;\n"]},"metadata":{},"sourceType":"module"}